<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Street Sounds Recorder</title>
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <script src="js/recorder.js"></script>
  <style>
    :root {
      --page-width: 800px;
      --rec-btn-size: 60px;
    }
    body, html {
      font-family: 'Raleway', sans-serif;
      margin: 0px;
      padding: 0px;
    }
    .centerDiv {
      width: var(--page-width);
      margin: auto;
    }
    a {
      color: black;
    }
    p {
      text-align: justify;
      margin-top: 50px;
    }
    h1 {
      font-size: 98px;
      margin-bottom: 0;
      margin-top: 20px;
    }
    audio { 
      width: var(--page-width);
      margin-top: 20px;
      margin-bottom: 20px;
    }
    canvas {
      width: var(--page-width);
    }
    button {
      color: white;
      font-size: 14px;
      outline: none;
      background-color: black;
      width: var(--page-width);
      height: var(--rec-btn-size);
      background: linear-gradient(90deg, #000000 100%, #ffffff 0%);
    }
    button:disabled {
      color: grey;
      background-color: black;
    }
    #recordBtn[recording="true"] {
      background-color: red;
      animation-name: countDown;
      animation-duration: 8s;
    }
    #playerContainer {  
    }
    #finalQrs {
      margin-top: 30px;
    }
    #finalQrsDevider {
      margin-top: 20px;
    }
    .imgEntry {
      display: flex;
    }
    .imgEntry button {
      flex-grow: 1;
      margin-left: 5px;
      margin-right: 5px;
      
    }
    .qrImg {
      max-height: 100%;
      max-width: 100%;
    }
    #buttonsContainer {
      display: flex;
    }
    #buttonsContainer button {
      margin: 3px;      
    }
    .social-media-links {
      margin-left: 20px;
      float: right;
    }
    .social-media-item {
      margin: 3px;
    }
    #social-media-panel {
      margin-bottom: 100px;
    }
    @keyframes countDown {
      /* for (let i = 0; i <= 100; i += 100/25) { console.log(`${i}% {background: linear-gradient(90deg, #000000 ${100 - i}%, #ffffff 0%);}`) } */
      0% {background: linear-gradient(90deg, #000000 100%, #ffffff 0%);}
      4% {background: linear-gradient(90deg, #000000 96%, #ffffff 0%);}
      8% {background: linear-gradient(90deg, #000000 92%, #ffffff 0%);}
      12% {background: linear-gradient(90deg, #000000 88%, #ffffff 0%);}
      16% {background: linear-gradient(90deg, #000000 84%, #ffffff 0%);}
      20% {background: linear-gradient(90deg, #000000 80%, #ffffff 0%);}
      24% {background: linear-gradient(90deg, #000000 76%, #ffffff 0%);}
      28% {background: linear-gradient(90deg, #000000 72%, #ffffff 0%);}
      32% {background: linear-gradient(90deg, #000000 68%, #ffffff 0%);}
      36% {background: linear-gradient(90deg, #000000 64%, #ffffff 0%);}
      40% {background: linear-gradient(90deg, #000000 60%, #ffffff 0%);}
      44% {background: linear-gradient(90deg, #000000 56%, #ffffff 0%);}
      48% {background: linear-gradient(90deg, #000000 52%, #ffffff 0%);}
      52% {background: linear-gradient(90deg, #000000 48%, #ffffff 0%);}
      56% {background: linear-gradient(90deg, #000000 44%, #ffffff 0%);}
      60% {background: linear-gradient(90deg, #000000 40%, #ffffff 0%);}
      64% {background: linear-gradient(90deg, #000000 36%, #ffffff 0%);}
      68% {background: linear-gradient(90deg, #000000 32%, #ffffff 0%);}
      72% {background: linear-gradient(90deg, #000000 28%, #ffffff 0%);}
      76% {background: linear-gradient(90deg, #000000 24%, #ffffff 0%);}
      80% {background: linear-gradient(90deg, #000000 20%, #ffffff 0%);}
      84% {background: linear-gradient(90deg, #000000 16%, #ffffff 0%);}
      88% {background: linear-gradient(90deg, #000000 12%, #ffffff 0%);}
      92% {background: linear-gradient(90deg, #000000 8%, #ffffff 0%);}
      96% {background: linear-gradient(90deg, #000000 4%, #ffffff 0%);}
      100% {background: linear-gradient(90deg, #000000 0%, #ffffff 0%);}
    }
  </style>
</head>

<body>

  <div class="centerDiv">
    <h1>STREET SOUNDS</h1>
    <p>
      Paper one of the oldest media of storing information and can last for a hundred of years. 
      This project allows you to encode an audio message into QR codes that can be posted on a wall, stored or sent via mail. 
      Anyone can decode this QRs with an app for iOS or Android. This creates a message that can be transmitted through time and space.
    </p>
    <canvas id="analyser" width="400" height="200"></canvas>
    
    <audio id="player" controls></audio>      
    
    <div id="buttonsContainer">
      <button class="controlBtn" id="recordBtn" recording="false"> RECORD </button>
      <button class="controlBtn" id="saveQrBtn" recording="false" disabled> MAKE QR </button>
    </div>
    
    <!-- <a id="save" href="#">Download</a> -->
    <!-- <hr id="finalQrsDevider"> -->
    <div id="finalQrs"></div>

    <div id="social-media-panel">
      <div class="social-media-links">
        <span class="social-media-item">kirill</span>
        <a class="fa fa-github social-media-item" href="https://github.com/kif11"></a>
        <a class="fa fa-instagram social-media-item" href="https://instagram.com/kif11"></a>
        <a class="fa fa-twitter social-media-item" href="https://twitter.com/kovalewskiy"></a>
      </div>
      <div class="social-media-links">
        <span class="social-media-item">sneha</span>
        <a class="fa fa-github social-media-item" href="https://github.com/sneha-belkhale"></a>
        <a class="fa fa-instagram social-media-item" href="https://www.instagram.com/snayss/"></a>
        <a class="fa fa-twitter social-media-item" href="https://twitter.com/snayyss"></a>
      </div>
    </div>
  </div>

</body>

<script src="js/index.js"></script>

</html>